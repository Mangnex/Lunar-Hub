setidentity(4)local a=game:GetService("Players")local b=game:GetService("ReplicatedStorage")local c=require(b._replicationFolder.PlayerWrapper)local d=require(b._replicationFolder.GuiUtils)local e=require(b._replicationFolder.WorldspaceGuiUtils)local f=require(b._replicationFolder.Binder)local g=require(b._replicationFolder.Maid)local h=require(b._replicationFolder.CharacterData)local i=require(b._replicationFolder.OverheadHealthbar)local j=require(b._replicationFolder.safeDestroy)local k=require(b._replicationFolder.Constants)local l=b._replicationFolder.KeenObserverOverhead:WaitForChild("OverheadGui")l.MaxDistance=250;local m=a.LocalPlayer;local n=c.GetClient()local o={}local function p()if not b:FindFirstChild("_KeenObserverState")then local q=Instance.new("Folder")q.Name="_KeenObserverState"q:SetAttribute("IsActive",false)q:SetAttribute("BinderRef",nil)q.Parent=b end;return b:FindFirstChild("_KeenObserverState")end;local r=p()local s={}s.__index=s;function s.new(t)local u=setmetatable({},s)u.Maid=g.new()if t==m.Character then return u end;u.Model=t;u.Player=a:FindFirstChild(t.Name)u.IsLocalPlayer=u.Player==m;u.CharacterData=h.YieldForCharacterData(u.Model)if not u.CharacterData then return u end;u.Gui=l:Clone()u.Gui.Name=u.Player.Name.."KeenObserverUI"u.Gui.Enabled=true;d.ParentToWorkspaceGui(u.Gui)u.Maid:GiveTask(u.Gui)u.Healthbar=i.new(u.Player,u.Gui.Health)u.Maid:GiveTask(u.Healthbar)e.AddWorldspaceGui(u.Gui)u.Gui.Adornee=t;if not u:_checkVisibility()then return u end;if u.CharacterData and u.CharacterData.AilmentAddedSignal then u.Maid:GiveTask(u.CharacterData.AilmentAddedSignal:Connect(function()u:_checkVisibility()end))end;o[u]=true;return u end;function s._checkVisibility(u)local t=u.Model;if t then t=u.Model:FindFirstChild("Ailments")end;if t then t=t:GetAttribute("HideInfo")end;if not t then return true end;task.defer(u.Destroy,u)return false end;function s.ClearAll()for u,v in pairs(o)do u:Destroy()end;o={}end;function s.Destroy(u)o[u]=nil;j(u)end;n.CharacterChangedSignal:Connect(function()local w=n:GetCurrentCharacter()if w and r:GetAttribute("IsActive")then if w:Get("KeenObserver")then local x=f.new(k.CharacterTag,s)x:Init()n.Maid.KeenObserverBinder=x end end end)local function y(z)local w=n:GetCurrentCharacter()if not w then return end;if z then if not r:GetAttribute("IsActive")then local x=f.new(k.CharacterTag,s)x:Init()n.Maid.KeenObserverBinder=x;r:SetAttribute("IsActive",true)end else if r:GetAttribute("IsActive")then n.Maid.KeenObserverBinder=nil;s.ClearAll()r:SetAttribute("IsActive",false)end end end;return y
